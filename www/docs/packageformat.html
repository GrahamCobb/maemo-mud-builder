<p>The package file describes where to get the application's source and how to
package it for Maemo. It is a simple <a
href="http://www.xml.com/pub/a/98/10/guide0.html">XML</a> file in in the
<code>packages</code> directory.</p>

<p>The name of the file should correspond to the Debian guidelines: all lower
case, with dashes, underscores, dots and numbers also permissible. The smallest
possible file is:</p>

<pre><code>&lt;package&gt;
    &lt;fetch type=&quot;debian&quot;/&gt;
&lt;/package&gt;</code></pre>

<p>This will download the source of the Debian package named the same as the
MUD package from the default (currently &quot;<a
href="http://packages.debian.org/testing/">etch</a>&quot;) and build it,
without overriding any of the defaults. Obviously, however, this is not
suitable for all packages and so more flexibility is possible.</p>

<p>The complete file is divided into three sections, only one of which is
required, and has the following outline:</p>

<pre><code>&lt;package&gt;
    &lt;fetch type=&quot;&#8230;&quot;&gt;
        &#8230;
    &lt;/fetch&gt;
    &lt;build&gt;
      &lt;result&gt;<i>single</i>&lt;/result&gt;
      &lt;copyright&gt;<i>gpl</i>&lt;/copyright&gt;
      &lt;include&gt;<i>examples,man</i>&lt;/include&gt;
      &#8230;
    &lt;/build&gt;
    &lt;deb&gt;
        &lt;icon&gt;<i>http://www.example.com/logo.png</i>&lt;/icon&gt;
        &#8230;
    &lt;/deb&gt;
&lt;/package&gt;</code></pre>

<p>As can be seen, the three sections are:</p>
<dl>
<dt>fetch</dt>
<dd>This section selects one of several plugins which instructs <code>mud-builder</code> how to download the package. Plugin-specific options, such as the location of the source, are specified here. <em>This element is mandatory.</em></dd>

<dt>build</dt>
<dd>Information on how to build the package; including its licence, whether
single, multiple or library packages should be produced, whether any of the
documentation stripped out by default should be included, configure flags and
so on. <em>This element has not yet been implemented.</em></dd>

<dt>deb</dt>
<dd>Information on the output package; such as description, icon, maintainer
and son on. Many settings in this section will be automatically determined
if possible.</dd>
</dl>

<h2>Fetch section</h2>
<pre><code>&lt;fetch type=&quot;<i>plugin</i>&quot;&gt;
    &#8230;
&lt;/fetch&gt;</code></pre>

<p>The content of this tag is entirely dependent on the plugin chosen:</p>

<dl>
<dt>debian</dt>
<dd>The source and its build-dependencies are fetched from the <a
href="http://www.debian.org/">Debian</a> distribution. There are literally
thousands of packages in Debian, containing all the necessary metadata for a
Maemo-compatible package.

<span class="note">As Maemo is different to Debian, however, these builds can
often become overcomplex, and it may be worth considering using the upstream
source directly.</span></dd>

<dt>tarball</dt>
<dd>A URL, or filesystem path, is given to a compressed archive
(<code>.tar.gz</code>, <code>.tgz</code>, <code>.tar.bz2</code> and
<code>.zip</code> are supported file extensions). This is downloaded and
unpacked in the build directory.</dd>
</dl>

<h3>Debian</h3>
<p>The Debian fetcher is designed to fetch the source of one of the <a
href="http://packages.debian.org/testing/">thousands of packages</a> packaged
and supported by the Debian distribution. It supports the following child
elements of the <code>fetch</code> node:</p>

<ul>
<li><code>&lt;name&gt;&#8230;&lt;/name&gt;</code> - the name of the package
in Debian. <em>(Defaults to the name of the MUD package)</em></li>

<li><code>&lt;deb-src&gt;&#8230;&lt;/deb-src&gt;</code> - the line in
<code>sources.list</code> which is prefixed with <code>deb-src</code> to find
the build package, and <code>deb</code> to find build dependencies. <em>(Defaults to <code>http://ftp.debian.org/ etch main</code>)</em></li>
</ul>

<p>TBC...</p>

<h3>Tarball</h3>
<p>TBC...</p>

<h2>Build section</h2>
<pre><code>&lt;build&gt;
    &lt;result&gt;<i>(single|multiple|library)</i>&lt;/result&gt;
    &lt;copyright&gt;<i>(gpl|lgpl|artistic|bsd</i>&lt;/copyright&gt;
    &lt;include&gt;<i>(changelogs|docs|examples|info|man)*</i>&lt;/include&gt;
    &lt;configure-append&gt;&#8230;&lt;/configure-append&gt;
&lt;/build&gt;</code></pre>

<p>TBC...</p>

<h2>Deb section</h2>
<pre><code>&lt;deb prefix-section=&quot;<i>(0|1)</i>&quot;&gt;
    &lt;icon&gt;<i>URL</i>&lt;/icon&gt;
    &lt;description&gt;
        <i>short descriptioin</i>\n<i>long description</i>
    &lt;/description&gt;
    &lt;section&gt;<i>section name</i>&lt;/section&gt;
    &#8230;
&lt;/deb&gt;</code></pre>

<p>TBC...</p>
