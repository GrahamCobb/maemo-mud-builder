Index: debian/libsyncml0.install
===================================================================
--- debian/libsyncml0.install	(revision 0)
+++ debian/libsyncml0.install	(revision 0)
@@ -0,0 +1 @@
+usr/lib/lib*.so.*
Index: debian/rules
===================================================================
--- debian/rules	(revision 1)
+++ debian/rules	(working copy)
@@ -33,7 +33,7 @@
 configure-stamp:
 	dh_testdir
 	# Add here commands to configure the package.
-
+	./build-cmake config
 	touch configure-stamp
 
 
@@ -42,7 +42,7 @@
 	dh_testdir
 
 	# Add here commands to compile the package.
-	$(MAKE)
+	./build-cmake build VERBOSE=1
 
 	touch $@
 
@@ -52,7 +52,7 @@
 	rm -f build-stamp configure-stamp
 
 	# Add here commands to clean up after the build process.
-	-$(MAKE) clean
+	-./build-cmake clean
 
 	dh_clean 
 
@@ -63,7 +63,7 @@
 	dh_installdirs
 
 	# Add here commands to install the package into debian/tmp
-	$(MAKE) DESTDIR=$(CURDIR)/debian/tmp install
+	./build-cmake install
 
 
 # Build architecture-independent files here.
@@ -74,10 +74,10 @@
 binary-arch: build install
 	dh_testdir
 	dh_testroot
-	dh_installchangelogs ChangeLog
-	dh_installdocs
-	dh_installexamples
-#	dh_install
+#	dh_installchangelogs ChangeLog
+#	dh_installdocs
+#	dh_installexamples
+	dh_install --sourcedir=debian/tmp
 #	dh_installmenu
 #	dh_installdebconf	
 #	dh_installlogrotate
@@ -87,14 +87,14 @@
 #	dh_installinit
 #	dh_installcron
 #	dh_installinfo
-	dh_installman
+#	dh_installman
 	dh_link
 	dh_strip
 	dh_compress
 	dh_fixperms
 #	dh_perl
 #	dh_python
-#	dh_makeshlibs
+	dh_makeshlibs -V
 	dh_installdeb
 	dh_shlibdeps
 	dh_gencontrol
Index: debian/libsyncml0.dirs
===================================================================
--- debian/libsyncml0.dirs	(revision 0)
+++ debian/libsyncml0.dirs	(revision 0)
@@ -0,0 +1 @@
+usr/lib
Index: build-cmake
===================================================================
--- build-cmake	(revision 0)
+++ build-cmake	(revision 0)
@@ -0,0 +1,45 @@
+#!/bin/sh
+#
+# Scripts to build for debian in a subdirectory using Cmake
+#
+# Usage:
+#
+#	./build clean
+#	./build config [arguments]
+#	./build build [arguments]
+#	./build install [arguments]
+#
+
+# Create the build subdirectory
+[ -d build ] || mkdir build
+cd build
+
+if [ "$1" = "clean" ]
+  then
+  shift
+  cd ..
+  rm -rf build
+
+elif [ "$1" = "config" ]
+  then
+  shift
+  cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_MODULE_PATH=../cmake/Modules/ "$@" ..
+
+elif [ "$1" = "build" ]
+  then
+  shift
+  make "$@"
+
+elif [ "$1" = "install" ]
+  then
+  shift
+  make DESTDIR=../debian/tmp "$@" install
+
+else
+  echo "Usage:"
+  echo "  $0 clean"
+  echo "  $0 config [arguments]"
+  echo "  $0 build [arguments]"
+  echo "  $0 install [arguments]"
+  exit 1
+fi
\ No newline at end of file

Property changes on: build-cmake
___________________________________________________________________
Name: svn:executable
   + *

